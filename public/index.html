<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>WebXR AVR Assignment</title>
	<script src="https://aframe.io/releases/1.1.0/aframe.js"></script>
	<script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.js"></script>
	<script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.js"></script>
</head>

<body>
	<a-scene stats renderer="colorManagement: true" physics="debug: true">
		<!-- Assets -->
		<a-assets>
			<a-asset-item id="gun" src="/models/low-poly-gun/scene.gltf"></a-asset-item>
			<a-asset-item id="house1" src="/models/low-poly-house/scene.gltf"></a-asset-item>
			<a-asset-item id="house2" src="/models/modern-house-low-poly/scene.gltf"></a-asset-item>
			<a-asset-item id="town-hall" src="/models/low-poly-town-hall/scene.gltf"></a-asset-item>
			<img id="easter-egg" src="/textures/saya-ingin-meninggal-please.jpg">
		</a-assets>

		<a-entity id="environment"
			environment="shadow: true; fog: 0.8; groundColor: #233828; groundColor2: #59764e; groundTexture: walkernoise; playArea: 1.2; groundYScale: 12; dressing: stones; dressingAmount: 30; dressingColor: #404039; dressingScale: 2.2">
		</a-entity>

		<a-plane rotation="-90 0 0" height="1000" width="1000" visible="false" static-body></a-plane>
		
		<a-box shadow position="-1 6 -3" rotation="0 45 0" color="#4CC3D9"
			event-set__enter="_event: mouseenter; color: #8FF7FF" event-set__leave="_event: mouseleave; color: #4CC3D9"
			dynamic-body>
		</a-box>

		<a-gltf-model id="house1-model" src="#house1" scale="0.09 0.09 0.09" position="-9.83603 -0.045 1.98709" static-body></a-gltf-model>
		<a-gltf-model id="house2-model" src="#house2" scale="1.2 1.2 1.2" static-body position="-10.30975 -0.145 -14.51459"></a-gltf-model>
		<a-gltf-model id="town-hall-model" src="#town-hall" position="12.68705 0 -15.50369"></a-gltf-model>

		<a-cone position="-5.122 6 -17.822" rotation="0 0 180" color="yellow"
			animation="property: position; to: -5.122 7 -17.822; dur: 2000; dir: alternate; easing: easeInOutSine; loop: true"
			geometry="radiusBottom: 0.4">
		</a-cone>
		<a-cylinder position="-5.122 6.5 -17.822" checkpoint="offset: 0 -3 0" visible="false" radius="0.4"></a-cylinder>
		<a-cone position="-2.37728 3 4.26845" rotation="0 0 180" color="yellow"
			animation="property: position; to: -2.37728 4 4.26845; dur: 2000; dir: alternate; easing: easeInOutSine; loop: true"
			geometry="radiusBottom: 0.4">
		</a-cone>
		<a-cylinder position="-2.37728 3.5 4.26845" checkpoint="offset: 0 -3 0" visible="false" radius="0.4"></a-cylinder>

		<a-plane id="smoothie" src="#easter-egg" rotation="0 90 0" position="-12.16807 1.22755 -9.70061" height="2" width="2"></a-plane>

		<!-- Camera rig -->
		<a-entity id="rig" movement-controls="controls: checkpoint"
			checkpoint-controls="mode: animate; animateSpeed: 10.0" position="0 0 0">
			<a-camera position="0 1.6 0" look-controls="pointerLockEnabled: true">
				<a-cursor></a-cursor>
				<a-gltf-model id="gun-model" shadow src="#gun" position="0.376 -0.407 -0.390" rotation="-0.9 180 0"
					scale="0.2 0.2 0.2">
				</a-gltf-model>
			</a-camera>
		</a-entity>
	</a-scene>
</body>

</html>